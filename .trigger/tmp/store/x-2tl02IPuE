{
  "version": 3,
  "sources": ["../../../trigger/streams.ts"],
  "sourcesContent": ["import { streams } from \"@trigger.dev/sdk\";\n\nexport type FundChatRealtimeChunk =\n  | { type: \"reasoning-start\"; id: string }\n  | { type: \"reasoning-delta\"; id: string; delta: string }\n  | { type: \"reasoning-end\"; id: string }\n  | { type: \"text-start\"; id: string }\n  | { type: \"text-delta\"; id: string; delta: string }\n  | { type: \"text-end\"; id: string };\n\nexport const fundChatRealtimeStream = streams.define<string>({\n  id: \"fund-chat-realtime\",\n});\n\nfunction isRecord(value: unknown): value is Record<string, unknown> {\n  return typeof value === \"object\" && value !== null && !Array.isArray(value);\n}\n\nexport function encodeFundChatRealtimeChunk(chunk: FundChatRealtimeChunk) {\n  return JSON.stringify(chunk);\n}\n\nexport function decodeFundChatRealtimeChunk(raw: unknown): FundChatRealtimeChunk | null {\n  if (typeof raw !== \"string\" || !raw) {\n    return null;\n  }\n\n  let parsed: unknown;\n  try {\n    parsed = JSON.parse(raw) as unknown;\n  } catch {\n    return null;\n  }\n\n  if (!isRecord(parsed)) {\n    return null;\n  }\n  if (typeof parsed.type !== \"string\" || typeof parsed.id !== \"string\") {\n    return null;\n  }\n\n  if (\n    parsed.type === \"reasoning-start\" ||\n    parsed.type === \"reasoning-end\" ||\n    parsed.type === \"text-start\" ||\n    parsed.type === \"text-end\"\n  ) {\n    return { type: parsed.type, id: parsed.id };\n  }\n\n  if (\n    (parsed.type === \"reasoning-delta\" || parsed.type === \"text-delta\") &&\n    typeof parsed.delta === \"string\"\n  ) {\n    return { type: parsed.type, id: parsed.id, delta: parsed.delta };\n  }\n\n  return null;\n}\n"],
  "mappings": ";;;;;;;;;AAAA;AAUO,IAAM,yBAAyB,QAAQ,OAAe;AAAA,EAC3D,IAAI;AACN,CAAC;AAED,SAAS,SAAS,OAAkD;AAClE,SAAO,OAAO,UAAU,YAAY,UAAU,QAAQ,CAAC,MAAM,QAAQ,KAAK;AAC5E;AAFS;AAIF,SAAS,4BAA4B,OAA8B;AACxE,SAAO,KAAK,UAAU,KAAK;AAC7B;AAFgB;AAIT,SAAS,4BAA4B,KAA4C;AACtF,MAAI,OAAO,QAAQ,YAAY,CAAC,KAAK;AACnC,WAAO;AAAA,EACT;AAEA,MAAI;AACJ,MAAI;AACF,aAAS,KAAK,MAAM,GAAG;AAAA,EACzB,QAAQ;AACN,WAAO;AAAA,EACT;AAEA,MAAI,CAAC,SAAS,MAAM,GAAG;AACrB,WAAO;AAAA,EACT;AACA,MAAI,OAAO,OAAO,SAAS,YAAY,OAAO,OAAO,OAAO,UAAU;AACpE,WAAO;AAAA,EACT;AAEA,MACE,OAAO,SAAS,qBAChB,OAAO,SAAS,mBAChB,OAAO,SAAS,gBAChB,OAAO,SAAS,YAChB;AACA,WAAO,EAAE,MAAM,OAAO,MAAM,IAAI,OAAO,GAAG;AAAA,EAC5C;AAEA,OACG,OAAO,SAAS,qBAAqB,OAAO,SAAS,iBACtD,OAAO,OAAO,UAAU,UACxB;AACA,WAAO,EAAE,MAAM,OAAO,MAAM,IAAI,OAAO,IAAI,OAAO,OAAO,MAAM;AAAA,EACjE;AAEA,SAAO;AACT;AApCgB;",
  "names": []
}
